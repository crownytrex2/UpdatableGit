--[[
ðŸ›  MADE BY CROWNYTREX ON DISCORD
Client-sided exploit GUI with:
â€¢ Drag functionality
â€¢ Transparency slider
â€¢ Minimize toggle
â€¢ Fly toggle
â€¢ Auto-hiding watermark
--]]

-- Destroy existing GUI if re-run
pcall(function() game.CoreGui:FindFirstChild("CrownyGUI"):Destroy() end)

-- Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

-- Player reference
local player = Players.LocalPlayer
local mouse = player:GetMouse()

-- Main GUI setup
local gui = Instance.new("ScreenGui", game.CoreGui)
gui.Name = "CrownyGUI"
gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
gui.ResetOnSpawn = false

-- Main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BackgroundTransparency = 0.1
frame.Parent = gui
frame.Active = true
frame.Draggable = true

-- UICorner
local corner = Instance.new("UICorner", frame)
corner.CornerRadius = UDim.new(0, 10)

-- Title
local title = Instance.new("TextLabel", frame)
title.Size = UDim2.new(1, 0, 0, 30)
title.Text = "CROWNYTREX GUI"
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 16

-- Minimize Button
local minimizeBtn = Instance.new("TextButton", frame)
minimizeBtn.Size = UDim2.new(0, 80, 0, 25)
minimizeBtn.Position = UDim2.new(1, -85, 0, 5)
minimizeBtn.Text = "Minimize"
minimizeBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
minimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeBtn.Font = Enum.Font.Gotham
minimizeBtn.TextSize = 14
local minCorner = Instance.new("UICorner", minimizeBtn)
minCorner.CornerRadius = UDim.new(0, 5)

-- Slider (Transparency)
local slider = Instance.new("TextButton", frame)
slider.Position = UDim2.new(0.05, 0, 0.4, 0)
slider.Size = UDim2.new(0.9, 0, 0, 30)
slider.Text = "Transparency: 10%"
slider.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
slider.TextColor3 = Color3.fromRGB(255, 255, 255)
slider.Font = Enum.Font.Gotham
slider.TextSize = 14
local sliderCorner = Instance.new("UICorner", slider)
sliderCorner.CornerRadius = UDim.new(0, 5)

-- Fly Button
local flyButton = Instance.new("TextButton", frame)
flyButton.Position = UDim2.new(0.05, 0, 0.65, 0)
flyButton.Size = UDim2.new(0.9, 0, 0, 30)
flyButton.Text = "Toggle Fly"
flyButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
flyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
flyButton.Font = Enum.Font.Gotham
flyButton.TextSize = 14
local flyCorner = Instance.new("UICorner", flyButton)
flyCorner.CornerRadius = UDim.new(0, 5)

-- Minimize Function
local isMinimized = false
minimizeBtn.MouseButton1Click:Connect(function()
	isMinimized = not isMinimized
	frame:TweenSize(
		isMinimized and UDim2.new(0, 300, 0, 40) or UDim2.new(0, 300, 0, 200),
		Enum.EasingDirection.Out,
		Enum.EasingStyle.Quad,
		0.3,
		true
	)
end)

-- Transparency Control
slider.MouseButton1Click:Connect(function()
	frame.BackgroundTransparency = frame.BackgroundTransparency + 0.1
	if frame.BackgroundTransparency > 1 then
		frame.BackgroundTransparency = 0
	end
	local percent = math.floor((1 - frame.BackgroundTransparency) * 100)
	slider.Text = "Transparency: " .. percent .. "%"
end)

-- Fly Function
local flying = false
local function startFlying()
	local char = player.Character
	local humanoidRoot = char and char:FindFirstChild("HumanoidRootPart")
	if not humanoidRoot then return end
	local bv = Instance.new("BodyVelocity")
	bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
	bv.Velocity = Vector3.zero
	bv.Parent = humanoidRoot
	local flyingSpeed = 80
	local flyConn
	flyConn = game:GetService("RunService").RenderStepped:Connect(function()
		local dir = Vector3.new()
		if UserInputService:IsKeyDown(Enum.KeyCode.W) then dir += workspace.CurrentCamera.CFrame.LookVector end
		if UserInputService:IsKeyDown(Enum.KeyCode.S) then dir -= workspace.CurrentCamera.CFrame.LookVector end
		if UserInputService:IsKeyDown(Enum.KeyCode.A) then dir -= workspace.CurrentCamera.CFrame.RightVector end
		if UserInputService:IsKeyDown(Enum.KeyCode.D) then dir += workspace.CurrentCamera.CFrame.RightVector end
		bv.Velocity = dir.Unit * flyingSpeed
	end)
	return bv, flyConn
end

local flyConnection, flyVelocity
flyButton.MouseButton1Click:Connect(function()
	if flying then
		flying = false
		flyVelocity:Destroy()
		flyConnection:Disconnect()
	else
		flying = true
		flyVelocity, flyConnection = startFlying()
	end
end)

-- Bottom right watermark
local note = Instance.new("TextLabel", gui)
note.Size = UDim2.new(0, 300, 0, 30)
note.Position = UDim2.new(1, -310, 1, -40)
note.BackgroundTransparency = 0.2
note.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
note.Text = "MADE BY CROWNYTREX ON DISCORD"
note.TextColor3 = Color3.fromRGB(255, 255, 255)
note.Font = Enum.Font.GothamBold
note.TextSize = 14
local noteCorner = Instance.new("UICorner", note)
noteCorner.CornerRadius = UDim.new(0, 6)

-- Auto-destroy after 15 seconds
task.delay(15, function()
	note:Destroy()
end)
